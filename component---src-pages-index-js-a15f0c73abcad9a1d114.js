(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{RXBc:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),i=n.n(a),o=n("Bl7J"),r=n("vrFN"),s=(n("f3/d"),n("ExVU")),l=n("u4ys"),m=n.n(l);var c=function(e){return i.a.createElement("section",{className:m.a.mainTimeGroup},e.location,":",i.a.createElement("div",{className:m.a.timeNow},e.timeNow.setZone(e.timeZone).toFormat("H':'mm':'ss")),i.a.createElement("div",{className:m.a.dateNow},e.timeNow.setZone(e.timeZone).toFormat("ccc d LLL y")),i.a.createElement("div",{className:m.a.namedOffsetNow},e.timeNow.setZone(e.timeZone).toFormat("ZZZZZ")))},d=n("c2Z6"),Z=n.n(d);var u=function(e){var t,n,a,o;return i.a.createElement("section",{className:Z.a.timeGroup},e.location,":",i.a.createElement("div",{className:Z.a.time},e.timeNow.setZone(e.timeZone).toFormat("H':'mm':'ss")),i.a.createElement("div",{className:Z.a.dayDiffMessage},(t=e.timeNow.setZone(e.originTimeZone),n=e.timeNow.setZone(e.timeZone),a=t.toObject().day,0===(o=n.toObject().day-a)?"":-1===o?"(Previous Day)":1===o?"(Next Day)":void 0)),i.a.createElement("div",{className:Z.a.date},e.timeNow.setZone(e.timeZone).toFormat("ccc d LLL y")),i.a.createElement("div",{className:Z.a.namedOffset},e.timeNow.setZone(e.timeZone).toFormat("ZZZZZ")),i.a.createElement("div",null,i.a.createElement("button",{className:Z.a.deleteButton,onClick:function(){e.deleteButton(e.index)}},"Delete")))},h=n("exZ6"),p=n.n(h),w=n("eq9U");function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).role=t.role,n.handleMainTextInput=n.handleMainTextInput.bind(T(n)),n.handleMainSelectChange=n.handleMainSelectChange.bind(T(n)),n.handleAddTextInput=n.handleAddTextInput.bind(T(n)),n.resetButtonClick=n.resetButtonClick.bind(T(n)),n.addButtonClick=n.addButtonClick.bind(T(n)),n.state={selectOptions:w.a,addSelectOptions:w.a,selectedMainTimezone:n.props.timeZone,selectedAddTimezone:n.props.timeZone},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleMainSelectChange=function(e){var t=e.target.value;this.props.selectMainTimeZone(t),this.setState({selectedMainTimezone:t})},o.addButtonClick=function(){var e=document.querySelector(".addTimeZoneSelect");this.props.addButtonClick(e.value)},o.resetButtonClick=function(){var e=document.querySelector(".mainTimeZoneInput"),t=document.querySelector(".addTimeZoneInput");e.value="",t.value="",this.setState({selectOptions:w.a,addSelectOptions:w.a,selectedMainTimezone:s.DateTime.local().zone.name,selectedAddTimezone:s.DateTime.local().zone.name}),this.props.resetAllButtonClick()},o.handleMainTextInput=function(e){var t=[];w.a.forEach((function(n,a){var i=n.TZ.toLowerCase().trim(),o=e.target.value.toLowerCase().trim();-1!==i.indexOf(o)&&t.push(n)})),0===t.length&&(t=w.a);var n=t[0].TZ;this.props.selectMainTimeZone(n),this.setState({selectOptions:t,selectedMainTimezone:n})},o.handleAddTextInput=function(e){var t=[];w.a.forEach((function(n,a){var i=n.TZ.toLowerCase().trim(),o=e.target.value.toLowerCase().trim();-1!==i.indexOf(o)&&t.push(n)})),0===t.length&&(t=w.a);var n=t[0].TZ;this.setState({addSelectOptions:t,selectedAddTimezone:n})},o.render=function(){var e,t,n=this.state.selectOptions.map((function(e){return i.a.createElement("option",{key:e.TZ},e.TZ)})),a=this.state.addSelectOptions.map((function(e){return i.a.createElement("option",{key:e.TZ},e.TZ)}));return"Add Card"===this.role&&(e=i.a.createElement("div",null,i.a.createElement("div",{className:p.a.inputContainer},i.a.createElement("input",{className:"addTimeZoneInput",onChange:this.handleAddTextInput})),i.a.createElement("select",{value:this.state.selectedMainTimezone,name:"addTimezones",className:"addTimeZoneSelect"},a)),t=i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("button",{className:p.a.deleteButton,onClick:this.addButtonClick},"Add")))),"Main"===this.role&&(e=i.a.createElement("div",null,i.a.createElement("div",{className:p.a.inputContainer},i.a.createElement("input",{className:"mainTimeZoneInput",onChange:this.handleMainTextInput})),i.a.createElement("select",{value:this.state.selectedMainTimezone,onChange:this.handleMainSelectChange,name:"timezones",className:"mainTimeZoneSelect"},n)),t=i.a.createElement("div",null,i.a.createElement("button",{className:p.a.deleteButton,onClick:this.resetButtonClick},"Reset All"))),i.a.createElement("section",{className:p.a.mainContainer},e,t)},a}(a.Component),v=n("Y8fv"),f=n.n(v),g=[{location:"Boston",timeZone:"America/New_York"},{location:"New York",timeZone:"America/New_York"},{location:"Freiburg",timeZone:"Europe/Berlin"},{location:"Los Angeles",timeZone:"America/Los_Angeles"},{location:"Mumbai",timeZone:"Asia/Kolkata"},{location:"London",timeZone:"Europe/London"},{location:"Sydney",timeZone:"Australia/Sydney"},{location:"Shanghai",timeZone:"Asia/Shanghai"}];function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).timeNowFormat="H':'mm':'ss",n.dateNowFormat="ccc d LLL y",n.namedOffsetFormat="ZZZZZ",n.narrowOffsetFormat="Z",n.resetAll=n.resetAll.bind(S(n)),n.changeMainTimeZone=n.changeMainTimeZone.bind(S(n)),n.addTimeZone=n.addTimeZone.bind(S(n)),n.removeTimeZone=n.removeTimeZone.bind(S(n)),n.state={timeNow:s.DateTime.local().setZone(n.storedMainZone.timeZone),mainTimeZone:n.storedMainZone,cardZones:n.storedCardZones},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this;this.initialMainZone={location:"Local Time",timeZone:s.DateTime.local().zone.name},this.storedCardZones=JSON.parse(window.localStorage.getItem("timeRightNow-cardZones")),this.storedCardZones||(window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(g)),this.storedCardZones=g),this.storedMainZone=JSON.parse(window.localStorage.getItem("timeRightNow-mainZone")),this.storedMainZone||(window.localStorage.setItem("timeRightNow-mainZone",JSON.stringify(this.initialMainZone)),this.storedMainZone=this.initialMainZone),this.timerID=setInterval((function(){return e.tick()}),1e3)},o.componentWillUnmount=function(){clearInterval(this.timerID)},o.tick=function(){this.setState({timeNow:s.DateTime.local().setZone(this.storedMainZone.timeZone)})},o.resetAll=function(){this.initialMainZone={location:"Local Time",timeZone:s.DateTime.local().zone.name},window.localStorage.setItem("timeRightNow-mainZone",JSON.stringify(this.initialMainZone)),window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(g)),this.setState({mainTimeZone:this.initialMainZone,cardZones:g})},o.changeMainTimeZone=function(e){var t={location:e,timeZone:e};window.localStorage.setItem("timeRightNow-mainZone",JSON.stringify(t)),this.setState({mainTimeZone:t})},o.addTimeZone=function(e){var t={location:e,timeZone:e},n=JSON.parse(window.localStorage.getItem("timeRightNow-cardZones")).concat([t]);window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(n)),this.setState({cardZones:n})},o.removeTimeZone=function(e){var t=JSON.parse(window.localStorage.getItem("timeRightNow-cardZones")).filter((function(t,n){if(n!==e)return t}));window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(t)),this.setState({cardZones:t})},o.render=function(){var e=this,t=this.state.cardZones.map((function(t,n){return i.a.createElement(u,{key:n,index:n,location:t.location,timeZone:t.timeZone,timeNow:e.state.timeNow,originTimeZone:e.state.mainTimeZone.timeZone,deleteButton:e.removeTimeZone})}));return i.a.createElement("div",null,i.a.createElement("div",{className:f.a.mainTimeContainer},i.a.createElement(c,{location:this.state.mainTimeZone.location,timeZone:this.state.mainTimeZone.timeZone,timeNow:this.state.timeNow}),i.a.createElement(N,{role:"Main",timeZone:this.state.mainTimeZone.timeZone,resetAllButtonClick:this.resetAll,selectMainTimeZone:this.changeMainTimeZone})),i.a.createElement("div",{className:f.a.TimeContainer},t,i.a.createElement(N,{role:"Add Card",addButtonClick:this.addTimeZone})))},a}(a.Component);t.default=function(){return i.a.createElement(o.a,null,i.a.createElement(r.a,{title:"Home"}),i.a.createElement(E,null))}}}]);
//# sourceMappingURL=component---src-pages-index-js-a15f0c73abcad9a1d114.js.map