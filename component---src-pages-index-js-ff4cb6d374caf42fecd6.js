(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{RXBc:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),i=n("Bl7J"),r=n("vrFN"),s=(n("f3/d"),n("ExVU")),m=n("u4ys"),l=n.n(m);var c=function(e){return o.a.createElement("section",{className:l.a.mainTimeGroup},e.location,":",o.a.createElement("div",{className:l.a.timeNow},e.timeNow.setZone(e.timeZone).toFormat("H':'mm':'ss")),o.a.createElement("div",{className:l.a.dateNow},e.timeNow.setZone(e.timeZone).toFormat("ccc d LLL y")),o.a.createElement("div",{className:l.a.namedOffsetNow},e.timeNow.setZone(e.timeZone).toFormat("ZZZZZ")))},d=n("c2Z6"),u=n.n(d);var h=function(e){var t,n,a,i;return o.a.createElement("section",{className:u.a.timeGroup},e.location,":",o.a.createElement("div",{className:u.a.time},e.timeNow.setZone(e.timeZone).toFormat("H':'mm':'ss")),o.a.createElement("div",{className:u.a.dayDiffMessage},(t=e.timeNow.setZone(e.originTimeZone),n=e.timeNow.setZone(e.timeZone),a=t.toObject().day,0===(i=n.toObject().day-a)?"":-1===i?"(Previous Day)":1===i?"(Next Day)":void 0)),o.a.createElement("div",{className:u.a.date},e.timeNow.setZone(e.timeZone).toFormat("ccc d LLL y")),o.a.createElement("div",{className:u.a.namedOffset},e.timeNow.setZone(e.timeZone).toFormat("ZZZZZ")),o.a.createElement("div",null,o.a.createElement("button",{className:u.a.deleteButton,onClick:function(){e.deleteButton(e.index)}},"Delete")))},Z=n("exZ6"),p=n.n(Z),T=n("eq9U");function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).role=t.role,n.handleMainTextInput=n.handleMainTextInput.bind(f(n)),n.handleMainSelectChange=n.handleMainSelectChange.bind(f(n)),n.handleAddTextInput=n.handleAddTextInput.bind(f(n)),n.resetButtonClick=n.resetButtonClick.bind(f(n)),n.addButtonClick=n.addButtonClick.bind(f(n)),n.state={selectOptions:T.a,addSelectOptions:T.a,selectedMainTimezone:n.props.timeZone,selectedAddTimezone:n.props.timeZone},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.handleMainSelectChange=function(e){var t=e.target.value;this.props.selectMainTimeZone(t),this.setState({selectedMainTimezone:t})},i.addButtonClick=function(){var e=document.querySelector(".addTimeZoneSelect");this.props.addButtonClick(e.value)},i.resetButtonClick=function(){var e=document.querySelector(".mainTimeZoneInput"),t=document.querySelector(".addTimeZoneInput");e.value="",t.value="",this.setState({selectOptions:T.a,addSelectOptions:T.a,selectedMainTimezone:s.DateTime.local().zone.name,selectedAddTimezone:s.DateTime.local().zone.name}),this.props.resetAllButtonClick()},i.handleMainTextInput=function(e){var t=[];T.a.forEach((function(n,a){var o=n.TZ.toLowerCase().trim(),i=e.target.value.toLowerCase().trim();-1!==o.indexOf(i)&&t.push(n)})),0===t.length&&(t=T.a);var n=t[0].TZ;this.props.selectMainTimeZone(n),this.setState({selectOptions:t,selectedMainTimezone:n})},i.handleAddTextInput=function(e){var t=[];T.a.forEach((function(n,a){var o=n.TZ.toLowerCase().trim(),i=e.target.value.toLowerCase().trim();-1!==o.indexOf(i)&&t.push(n)})),0===t.length&&(t=T.a);var n=t[0].TZ;this.setState({addSelectOptions:t,selectedAddTimezone:n})},i.render=function(){var e,t,n=this.state.selectOptions.map((function(e){return o.a.createElement("option",{key:e.TZ},e.TZ)})),a=this.state.addSelectOptions.map((function(e){return o.a.createElement("option",{key:e.TZ},e.TZ)}));return"Add Card"===this.role&&(e=o.a.createElement("div",null,o.a.createElement("div",{className:p.a.inputContainer},o.a.createElement("input",{className:"addTimeZoneInput",onChange:this.handleAddTextInput})),o.a.createElement("select",{value:this.state.selectedMainTimezone,name:"addTimezones",className:"addTimeZoneSelect"},a)),t=o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("button",{className:p.a.deleteButton,onClick:this.addButtonClick},"Add")))),"Main"===this.role&&(e=o.a.createElement("div",null,o.a.createElement("div",{className:p.a.inputContainer},o.a.createElement("input",{className:"mainTimeZoneInput",onChange:this.handleMainTextInput})),o.a.createElement("select",{value:this.props.timeZone,onChange:this.handleMainSelectChange,name:"timezones",className:"mainTimeZoneSelect"},n)),t=o.a.createElement("div",null,o.a.createElement("button",{className:p.a.deleteButton,onClick:this.resetButtonClick},"Reset All"))),o.a.createElement("section",{className:p.a.mainContainer},e,t)},a}(a.Component),v=n("47KC"),N=n.n(v);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).dateNowFormat="ccc d LLL y",n.dstChangeDetection=n.dstChangeDetection.bind(g(n)),n.leapYearMsg=n.leapYearMsg.bind(g(n)),n.state={},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.dstChangeDetection=function(e,t){var n=s.DateTime.fromObject({year:e,month:1,day:1,hour:0,minute:0,second:0,zone:t}),a=s.DateTime.fromObject({year:e,month:12,day:31,hour:23,minute:59,second:59,zone:t}),o=s.Interval.fromDateTimes(n.startOf("day"),a.endOf("day")).splitBy({days:1}).map((function(e){return e.start})),i=[],r=[];o.forEach((function(e){!0===e.isInDST&&i.push("In DST"),!1===e.isInDST&&i.push("Not In DST")}));for(var m=0;m<i.length;m++)i[m+1]&&("In DST"===i[m]&&"Not In DST"===i[m+1]||"Not In DST"===i[m]&&"In DST"===i[m+1])&&r.push(o[m].toFormat(this.dateNowFormat));var l,c=r.join(" and ");return 0===r.length&&(l=""),r.length>0&&(l="DST changes on (approx.): "+c+"."),l},i.leapYearMsg=function(e){return e.isInLeapYear?"February this year has 29 days.":"February this year has 28 days."},i.render=function(){return o.a.createElement("section",{className:N.a.mainTimeGroup},o.a.createElement("div",null,o.a.createElement("div",null,this.leapYearMsg(this.props.timeNow)),o.a.createElement("div",null,this.dstChangeDetection(this.props.timeNow.year,this.props.timeZone))))},a}(a.Component),y=n("Y8fv"),E=n.n(y),C=[{location:"Boston",timeZone:"America/New_York"},{location:"New York",timeZone:"America/New_York"},{location:"Freiburg",timeZone:"Europe/Berlin"},{location:"Los Angeles",timeZone:"America/Los_Angeles"},{location:"Mumbai",timeZone:"Asia/Kolkata"},{location:"London",timeZone:"Europe/London"},{location:"Sydney",timeZone:"Australia/Sydney"},{location:"Shanghai",timeZone:"Asia/Shanghai"}];function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M={location:"Local Time",timeZone:s.DateTime.local().zone.name},O=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).timeNowFormat="H':'mm':'ss",n.dateNowFormat="ccc d LLL y",n.namedOffsetFormat="ZZZZZ",n.narrowOffsetFormat="Z",n.resetAll=n.resetAll.bind(I(n)),n.changeMainTimeZone=n.changeMainTimeZone.bind(I(n)),n.addTimeZone=n.addTimeZone.bind(I(n)),n.removeTimeZone=n.removeTimeZone.bind(I(n)),n.state={timeNow:s.DateTime.local().setZone(M.timeZone),mainTimeZone:M.timeZone,cardZones:C},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.componentDidMount=function(){var e=this;this.storedCardZones=JSON.parse(window.localStorage.getItem("timeRightNow-cardZones")),this.storedCardZones||(window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(C)),this.storedCardZones=C),this.storedMainZone=JSON.parse(window.localStorage.getItem("timeRightNow-mainZone")),this.storedMainZone||(window.localStorage.setItem("timeRightNow-mainZone",JSON.stringify(M)),this.storedMainZone=M),this.setState({timeNow:s.DateTime.local().setZone(this.storedMainZone.timeZone),mainTimeZone:this.storedMainZone,cardZones:this.storedCardZones}),this.timerID=setInterval((function(){return e.tick()}),1e3)},i.componentWillUnmount=function(){clearInterval(this.timerID)},i.tick=function(){this.setState({timeNow:s.DateTime.local().setZone(this.storedMainZone.timeZone)})},i.resetAll=function(){var e={location:"Local Time",timeZone:s.DateTime.local().zone.name};window.localStorage.setItem("timeRightNow-mainZone",JSON.stringify(e)),window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(C)),this.setState({mainTimeZone:e,cardZones:C})},i.changeMainTimeZone=function(e){var t={location:e,timeZone:e};window.localStorage.setItem("timeRightNow-mainZone",JSON.stringify(t)),this.setState({mainTimeZone:t})},i.addTimeZone=function(e){var t={location:e,timeZone:e},n=JSON.parse(window.localStorage.getItem("timeRightNow-cardZones")).concat([t]);window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(n)),this.setState({cardZones:n})},i.removeTimeZone=function(e){var t=JSON.parse(window.localStorage.getItem("timeRightNow-cardZones")).filter((function(t,n){if(n!==e)return t}));window.localStorage.setItem("timeRightNow-cardZones",JSON.stringify(t)),this.setState({cardZones:t})},i.render=function(){var e=this,t=this.state.cardZones.map((function(t,n){return o.a.createElement(h,{key:n,index:n,location:t.location,timeZone:t.timeZone,timeNow:e.state.timeNow,originTimeZone:e.state.mainTimeZone.timeZone,deleteButton:e.removeTimeZone})}));return o.a.createElement("div",null,o.a.createElement("div",{className:E.a.mainTimeContainer},o.a.createElement(c,{location:this.state.mainTimeZone.location,timeZone:this.state.mainTimeZone.timeZone,timeNow:this.state.timeNow}),o.a.createElement(w,{role:"Main",timeZone:this.state.mainTimeZone.timeZone,resetAllButtonClick:this.resetAll,selectMainTimeZone:this.changeMainTimeZone}),o.a.createElement(S,{timeNow:this.state.timeNow,timeZone:this.state.mainTimeZone.timeZone})),o.a.createElement("div",{className:E.a.TimeContainer},t,o.a.createElement(w,{role:"Add Card",addButtonClick:this.addTimeZone})))},a}(a.Component);t.default=function(){return o.a.createElement(i.a,null,o.a.createElement(r.a,{title:"Home"}),o.a.createElement(O,null))}}}]);
//# sourceMappingURL=component---src-pages-index-js-ff4cb6d374caf42fecd6.js.map